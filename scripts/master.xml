<?xml version="1.0" encoding="utf-8"?>
<Application>
  <Name>Elevation_Project</Name>
  <Command>@DefaultCommand</Command>
  <Workspace>
    <WorkspacePath>Path_to_folder_where_GDB_Will_be_stored</WorkspacePath>
    <Geodatabase>WorldElevation</Geodatabase>
      <MosaicDataset>
      <MosaicDatasetType>source;derived;referenced</MosaicDatasetType>
      <Name>@MosaicDatasetName</Name>
      <SRS>PROJCS['WGS_1984_Web_Mercator_Auxiliary_Sphere',GEOGCS['GCS_WGS_1984',DATUM['D_WGS_1984',SPHEROID['WGS_1984',6378137.0,298.257223563]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]],PROJECTION['Mercator_Auxiliary_Sphere'],PARAMETER['False_Easting',0.0],PARAMETER['False_Northing',0.0],PARAMETER['Central_Meridian',0.0],PARAMETER['Standard_Parallel_1',0.0],PARAMETER['Auxiliary_Sphere_Type',0.0],UNIT['Meter',1.0]];-20037700 -30241100 10000;-100000 10000;-100000 10000;0.001;0.001;0.001;IsHighPrecision</SRS>
      <num_bands>1</num_bands>
      <pixel_type>1_BIT;2_BIT;4_BIT;8_BIT_UNSIGNED;8_BIT_SIGNED;16_BIT_UNSIGNED;16_BIT_SIGNED;32_BIT_UNSIGNED;32_BIT_SIGNED;32_BIT_FLOAT;64_BIT</pixel_type>
      <product_definition>None;NATURAL_COLOR_RGB;NATURAL_COLOR_RGBI;FALSE_COLOR_IRG;FORMOSAT-2_4BANDS;GEOEYE-1_4BANDS;IKONOS_4BANDS;KOMPSAT-2_4BANDS;LANDSAT_6BANDS;LANDSAT_MSS_4BANDS;QUICKBIRD_4BANDS;RAPIDEYE_5BANDS;SPOT-5_4BANDS;WORLDVIEW-2_8BANDS;CUSTOM</product_definition>
      <product_band_definitions>1</product_band_definitions>
        <AddRasters>
         <AddRaster>	   
          <dataset_id>@Dataset_ID</dataset_id>
          <raster_type>@RasterType</raster_type>
          <Sources>
            <data_path>@DataPath</data_path>
          </Sources>
          <filter>@Filter</filter>
          <update_cellsize_ranges>UPDATE_CELL_SIZES;NO_CELL_SIZES</update_cellsize_ranges>
          <update_boundary>UPDATE_BOUNDARY,NO_BOUNDARY</update_boundary>
          <update_overviews>UPDATE_OVERVIEWS;No_OVERVIEWS</update_overviews>
          <maximum_pyramid_levels></maximum_pyramid_levels>
          <maximum_cell_size></maximum_cell_size>
          <minimum_dimension></minimum_dimension>
          <spatial_reference></spatial_reference>
          <sub_folder>SUBFOLDERS;NO_SUBFOLDERS</sub_folder>
          <duplicate_items_action>ALLOW_DUPLICATES;EXCLUDE_DUPLICATES;OVERWRITE_DUPLICATES</duplicate_items_action>
          <build_pyramids>NO_PYRAMIDS;BUILD_PYRAMIDS</build_pyramids>
          <calculate_statistics>CALCULATE_STATISTICS;NO_STATISTICS </calculate_statistics>
          <build_thumbnails>BUILD_THUMBNAILS;NOTHUMBNAILS</build_thumbnails>
          <operation_description></operation_description>
          <force_spatial_reference>FORCE_SPATIAL_REFERENCE;NO_FORCE_SPATIAL_REFERENCE</force_spatial_reference>
         </AddRaster>
         <AddRaster>	   
          <dataset_id>@ID</dataset_id>
          <raster_type>@RasterType</raster_type>
          <Sources>
            <data_path>@DataPath</data_path>
          </Sources>
          <filter>@Filter</filter>
          <update_cellsize_ranges>UPDATE_CELL_SIZES;NO_CELL_SIZES</update_cellsize_ranges>
          <update_boundary>UPDATE_BOUNDARY,NO_BOUNDARY</update_boundary>
          <update_overviews>UPDATE_OVERVIEWS;No_OVERVIEWS</update_overviews>
          <maximum_pyramid_levels></maximum_pyramid_levels>
          <maximum_cell_size></maximum_cell_size>
          <minimum_dimension></minimum_dimension>
          <spatial_reference></spatial_reference>
          <sub_folder>SUBFOLDERS;NO_SUBFOLDERS</sub_folder>
          <duplicate_items_action>ALLOW_DUPLICATES;EXCLUDE_DUPLICATES;OVERWRITE_DUPLICATES</duplicate_items_action>
          <build_pyramids>NO_PYRAMIDS;BUILD_PYRAMIDS</build_pyramids>
          <calculate_statistics>CALCULATE_STATISTICS;NO_STATISTICS </calculate_statistics>
          <build_thumbnails>BUILD_THUMBNAILS;NOTHUMBNAILS</build_thumbnails>
          <operation_description></operation_description>
          <force_spatial_reference>FORCE_SPATIAL_REFERENCE;NO_FORCE_SPATIAL_REFERENCE</force_spatial_reference>
         </AddRaster>
        </AddRasters> 
        <DefaultProperties>
          <max_num_per_mosaic>50</max_num_per_mosaic>
          <rows_maximum_imagesize>4000</rows_maximum_imagesize>
          <columns_maximum_imagesize>4000</columns_maximum_imagesize>
          <allowed_compressions>LZ77;NONE;JPEG;LERC</allowed_compressions>
          <default_compression_type>None</default_compression_type>
          <JPEG_quality>0-100</JPEG_quality>
	  <resampling_type>NEAREST;BILINEAR;CUBIC;MAJORITY</resampling_type>
	  <LERC_Tolerance>0.01</LERC_Tolerance>
          <clip_to_footprints>NOT_CLIP;CLIP</clip_to_footprints>
          <clip_to_boundary>CLIP;NOT_CLIP</clip_to_boundary>
	  <color_correction>NOT_APPLY;APPLY</color_correction>
	  <footprints_may_contain_nodata>FOOTPRINTS_MAY_CONTAIN_NODATA;FOOTPRINTS_DO_NOT_CONTAIN_NODATA</footprints_may_contain_nodata>
	  <allowed_mensuration_capabilities>BASIC;Base-Top Height;Base-Top Shadow Height;Top-Top Shadow Height;3D</allowed_mensuration_capabilities>
	  <default_mensuration_capabilities>BASIC</default_mensuration_capabilities>
	  <allowed_mosaic_methods>Center;NorthWest;Nadir;Viewpoint;LockRaster;ByAttribute;Seamline;None</allowed_mosaic_methods>
          <default_mosaic_method>ByAttribute</default_mosaic_method>
          <order_field>MinPS</order_field>  
	  <order_base>0</order_base>
	  <sorting_order>Ascending;DESCENDING</sorting_order>
	  <mosaic_operator>FIRST;LAST;MIN;MAX;MEAN;BLEND</mosaic_operator>
	  <blend_width>10</blend_width>
	  <view_point_x>300</view_point_x>
	  <view_point_y>300</view_point_y>
	  <max_num_per_mosaic>50</max_num_per_mosaic>
	  <cell_size_tolerance>999</cell_size_tolerance>
	  <cell_size>#</cell_size>
	  <metadata_level>BASIC</metadata_level>
      <transmission_fields>Name;MinPS;MaxPS;LowPS;HighPS;ProductName;BEST;Source;LE90;CE90;Date_Start;Date_End;Source_URL;DEM_Type;Dataset_ID;VerticalDatum</transmission_fields>
	  <use_time>DISABLED</use_time>
	  <start_time_field>#</start_time_field>
	  <end_time_field>#</end_time_field>
	  <time_format>#</time_format>
	  <geographic_transform>#</geographic_transform>
	  <max_num_of_download_items>50</max_num_of_download_items>
	  <max_num_of_records_returned>2000</max_num_of_records_returned>

        </DefaultProperties>
         <Table>
          <AddFields>AddFields</AddFields>
          <Fields>
            <Field>
              <name>Dataset_ID</name>
              <type>TEXT</type>
              <length>32</length>
            </Field>
          </Fields>
         </Table>
         <Functions>
            <function_path>Path_to_Raster_function_template_file</function_path>
         </Functions>
	  <Processes>
	<CalculateCellSizeRanges>
			<where_clause>SQL QUERY</where_clause>
			<do_compute_min>NO_MIN_CELL_SIZES</do_compute_min>
			<do_compute_max>NO_MAX_CELL_SIZES</do_compute_max>
			<max_range_factor>10</max_range_factor>
			<cell_size_tolerance_factor>999</cell_size_tolerance_factor>
			<update_missing_only>UPDATE_ALL</update_missing_only>
		</CalculateCellSizeRanges>
	<BuildPyramids>
			<pyramid_level>1-29</pyramid_level>
			<SKIP_FIRST>NONE;SKIP_FIRST</SKIP_FIRST>
			<resample_technique>NEAREST;BILINEAR;CUBIC</resample_technique>
			<compression_type>DEFAULT;JPEG;JPEG_YCbCr;None;LZW</compression_type>
			<compression_quality>0-100</compression_quality>
			<skip_existing>OVERWRITE;SKIP_EXISTING</skip_existing>
		</BuildPyramids>        
	<ColorBalanceMosaicDataset>
			<balancing_method>DODGING;HISTOGRAM;STANDARD_DEVIATION</balancing_method>
			<color_surface_type>SINGLE_COLOR;COLOR_GRID;FIRST_ORDER;SECOND_ORDER;SECOND_ORDER;THIRD_ORDER</color_surface_type>
			<target_raster>#</target_raster>
			<gamma>#</gamma>
			<exclude_raster>#</exclude_raster>
			<stretch_type>NONE;ADAPTIVE;MINIMUM_MAXIMUM;STANDARD_DEVIATION</stretch_type>
			<block_field>#</block_field>
		</ColorBalanceMosaicDataset>
	<EditRasterFunction>
			<edit_mosaic_dataset_item>EDIT_MOSAIC_DATASET_ITEM;EDIT_MOSAIC_DATASET</edit_mosaic_dataset_item>
			<edit_options>INSERT;REPLACE;REMOVE</edit_options>
			<function_chain_definition>#</function_chain_definition>
			<location_function_name>OVERWRITE;SKIP_EXISTING</location_function_name>
		</EditRasterFunction>
	<CalculateStatistics>
			<x_skip_factor>1</x_skip_factor>
			<y_skip_factor>1</y_skip_factor>
			<ignore_values>#</ignore_values>
			<skip_existing>OVERWRITE;SKIP_EXISTING</skip_existing>
			<area_of_interest>#</area_of_interest>
		</CalculateStatistics>
	<BuildPyramidsAndStatistics>
			<include_subdirectories>NONE;INCLUDE_SUBDIRECTORIES</include_subdirectories>
			<build_pyramids>NONE;BUILD_PYRAMIDS</build_pyramids>
			<calculate_statistics>NONE;CALCULATE_STATISTICS</calculate_statistics>
			<BUILD_ON_SOURCE>NONE;BUILD_ON_SOURCE </BUILD_ON_SOURCE>
			<block_field>#</block_field>
			<estimate_statistics>NONE;ESTIMATE_STATISTICS</estimate_statistics>
			<x_skip_factor>1</x_skip_factor>
			<y_skip_factor>1</y_skip_factor>
			<ignore_values>#</ignore_values>
			<pyramid_level>1-29</pyramid_level>
			<SKIP_FIRST>NONE;SKIP_FIRST</SKIP_FIRST>
			<resample_technique>NEAREST;BILINEAR;CUBIC</resample_technique>
			<compression_type>DEFAULT;JPEG;JPEG_YCbCr;None;LZW</compression_type>
			<compression_quality>0-100</compression_quality>
			<skip_existing>OVERWRITE;SKIP_EXISTING</skip_existing>

		</BuildPyramidsAndStatistics>
	<BuildFootprint>
			<where_clause></where_clause>
			<reset_footprint>RADIOMETRY;GEOMETRY;COPY_FROM_SIBLING;NONE</reset_footprint>
			<max_data_value>255</max_data_value>
			<min_data_value>1</min_data_value>
			<approx_num_vertices>25</approx_num_vertices>
			<shrink_distance>0</shrink_distance>
			<update_boundary>NO_BOUNDARY;UPDATE_BOUNDARY</update_boundary>
			<skip_derived_images>SKIP_DERIVED_IMAGES;NO_SKIP_DERIVED_IMAGES</skip_derived_images>
			<maintain_edges>NO_MAINTAIN_EDGES;MAINTAIN_EDGES</maintain_edges>
			<request_size>2000</request_size>
			<min_region_size></min_region_size>
			<simplification_method>NONE;CONVEX_HULL;ENVELOPE</simplification_method>
		</BuildFootprint>
	<BuildSeamlines>
			<cell_size>#</cell_size>
			<sort_method>NORTH_WEST;CLOSEST_TO_VIEWPOINT;BY_ATTRIBUTE</sort_method>
			<sort_order>ASCENDING;DESCENDING</sort_order>
			<order_by_attribute>#</order_by_attribute>
			<order_by_base_value>#</order_by_base_value>
			<view_point>0</view_point>
			<computation_method>GEOMETRY;RADIOMETRY;COPY_FOOTPRINT;COPY_TO_SIBLING</computation_method>
			<blend_width>#</blend_width>
			<blend_type>#</blend_type>
			<request_size>#</request_size>
			<request_size_type>#</request_size_type>
		</BuildSeamlines>

        <BuildBoundary>
			<where_clause></where_clause>
			<append_to_existing>OVERWRITE;APPEND</append_to_existing>
			<simplification_method>NONE;CONVEX_HULL;ENVELOPE</simplification_method>
		</BuildBoundary>
        <DefineMosaicDatasetNoData>
			<num_bands>1</num_bands>
			<bands_for_nodata_value>@DoDefineNOData</bands_for_nodata_value>
			<where_clause>@where_clause</where_clause>
			<bands_for_valid_data_range>@bands_for_nodata_value</bands_for_valid_data_range>
			<Composite_nodata_value>NO_COMPOSITE_NODATA;COMPOSITE_NODATA</Composite_nodata_value>
		</DefineMosaicDatasetNoData>
    
    <SynchronizeMosaicDataset>   
       <in_mosaic_dataset></in_mosaic_dataset>
       <where_clause></where_clause>
       <new_items>NO_NEW_ITEMS;UPDATE_WITH_NEW_ITEMS</new_items>
       <sync_only_stale>SYNC_STALE;SYNC_ALL</sync_only_stale>
       <update_cellsize_ranges>UPDATE_CELL_SIZES;NO_CELL_SIZES</update_cellsize_ranges>
       <update_boundary>UPDATE_BOUNDARY;NO_BOUNDARY</update_boundary>
       <update_overviews>UPDATE_OVERVIEWS;NO_OVERVIEWS</update_overviews>
       <build_pyramids>BUILD_PYRAMIDS;NO_PYRAMIDS</build_pyramids>
       <calculate_statistics>CALCULATE_STATISTICS;NO_STATISTICS</calculate_statistics>
       <build_thumbnails>NO_THUMBNAILS;BUILD_THUMBNAILS</build_thumbnails>
       <build_item_cache>BUILD_ITEM_CACHE;NO_ITEM_CACHE</build_item_cache>
       <rebuild_raster>REBUILD_RASTER,NO_RASTER</rebuild_raster>
       <update_fields>UPDATE_FIELDS;NO_FIELDS</update_fields>
       <fields_to_update>Specify which fields should be updated</fields_to_update>
       <existing_items>UPDATE_EXISTING_ITEMS;IGNORE_EXISTING_ITEMS</existing_items>
       <broken_items>IGNORE_BROKEN_ITEMS;REMOVE_BROKEN_ITEMS</broken_items>
      </SynchronizeMosaicDataset>
                                            
        <ImportGeometry>
			<target_featureclass_type>FOOTPRINT;SEAMLINE;BOUNDARY</target_featureclass_type>
			<target_join_field>@target_join_field</target_join_field>
			<input_featureclass>@input_featureclass</input_featureclass>
			<input_join_field>@input_join_field</input_join_field>
		</ImportGeometry>
        <ImportFieldValues>
			
			<target_join_field>@target_join_field</target_join_field>
			<input_featureclass>@input_featureclass</input_featureclass>
			<input_join_field>@input_join_field</input_join_field>
			<fieldNameList>footprint</fieldNameList>
		</ImportFieldValues>
        <SetStatistics>
			
			<data_type>GENERIC;ELEVATION;THEMATIC;PROCESSED</data_type>
			<statistics>@statistics</statistics>
			<stats_file>@stats_file</stats_file>
			<nodata>@nodata</nodata>
		</SetStatistics>
        <BuildOverviews>
			
			<where_clause>@where_clause</where_clause>
			<define_missing_tiles>DEFINE_MISSING_TILES;NO_DEFINE_MISSING_TILES</define_missing_tiles>
			<generate_overviews>GENERATE_OVERVIEWS;NO_GENERATE_OVERVIEWS</generate_overviews>
			<generate_missing_images>GENERATE_MISSING_IMAGES;IGNORE_MISSING_IMAGES</generate_missing_images>
			<regenerate_stale_images>REGENERATE_STALE_IMAGES;IGNORE_STALE_IMAGES</regenerate_stale_images>
		</BuildOverviews>	
        <DefineOverviews>
			<overview_image_folder>overview_image_folder</overview_image_folder>
			<in_template_dataset>in_template_dataset</in_template_dataset>
			<extent>@extent</extent>
			<pixel_size>@pixel_size</pixel_size>
			<number_of_levels>@number_of_levels</number_of_levels>
			<tile_rows>@tile_rows</tile_rows>
			<tile_cols>@tile_cols</tile_cols>
			<overview_factor>@overview_factor</overview_factor>
			<force_overview_tiles>NO_FORCE_OVERVIEW_TILES;FORCE_OVERVIEW_TILES</force_overview_tiles>
			<resampling_method>NEAREST;BILINEAR;CUBIC</resampling_method>
			<compression_method>JPEG;JPEG_YCbCr;None;LZW</compression_method>
			<compression_quality>0-100</compression_quality>
		</DefineOverviews>	
        <AddIndex>
		<Index>
			<fields>@fields</fields>
			<index_name>@index_name</index_name>
			<unique>@unique</unique>
			<ascending>@ascending</ascending>
		</Index>
		<Index>
			<fields>@fields</fields>
			<index_name>@index_name</index_name>
			<unique>@unique</unique>
			<ascending>@ascending</ascending>
		</Index>
		</AddIndex>	
        <CalculateValues>
          <CalculateValue>
		  <query>"Dataset_ID"='IntermapDSM'</query>
		  <fieldName>MaxPS</fieldName>
 		  <expression>extv(!Dataset_ID!)</expression>
		  <expression_type>PYTHON</expression_type>
		  <code_block>"""def extv(value):\n  if value == "mn75_grd_m":\n     extv_ = 463\n     return extv_\n  if value == "mn30_grd_m":\n     extv_ = 7400\n     return extv_\n  if value == "mn15_grd_m":\n     extv_ = 926\n     return extv_\n  if value == "mnGMTED_OV":\n     extv_ = 30000\n     return extv_\n  if value == "mnGMTED_fi":\n     extv_ = 7400\n     return extv_\n  else:   return "7400"/n"""</code_block>
	  </CalculateValue>
         <CalculateValue>
		  <query>"Dataset_ID=XYZ"</query>
		  <fieldName>MinPS</fieldName>
		  <expression>[LowPS]</expression>
	  </CalculateValue>
	</CalculateValues>   
      </Processes>
	
      </MosaicDataset>
  </Workspace>
</Application>
